uuid: a72c7e94-6d67-4779-8a1c-ddec7beaa51c
langcode: en
status: true
dependencies:
  enforced:
    module:
      - milken_migrate
      - eck
id: event
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - event
  - grid
migration_group: milken
label: 'Event VIA JSON API'
source:
  plugin: url
  urls: 'http://host.docker.internal/jsonapi/events'
  data_fetcher_plugin: http
  data_parser_plugin: jsonapi
  jsonapi_host: 'http://host.docker.internal'
  jsonapi_endpoint: /jsonapi/events
  item_selector: data
  fields:
    -
      name: id
      label: ID
      selector: /id
    -
      name: type
      label: Type
      selector: /attributes/type
    -
      name: eventid
      label: 'EventID'
      selector: /attributes/eventid
    -
      name: name
      label: title/name
      selector: /attributes/title
    -
      name: nameshort
      label: 'Name Short'
      selector: /attributes/nameshort
    -
      name: description
      label: 'body array'
      selector: /attributes/description
    -
      name: titlelogo
      label: 'Title Logo'
      selector: /attributes/titlelogo
    -
      name: venue
      label: 'Title Logo'
      selector: /attributes/venue
    -
      name: speakers
      label: 'Title Logo'
      selector: /attributes/speakers
    -
      name: created
      label: Created
      selector: /attributes/datecreated
    -
      name: changed
      label: Changed
      selector: /attributes/datemodified
    -
      name: eventdate
      label: "Event Date"
      selector: /attributes/dateevent
    -
      name: campaignname
      label: 'Title Logo'
      selector: /attributes/campaignname
    -
      name: campaignid
      label: 'Title Logo'
      selector: /attributes/campaignid
    -
      name: campaigntype
      label: Created
      selector: /attributes/campaigntype
    -
      name: campaignowner
      label: Changed
      selector: /attributes/campaignowner
    -
      name: campaigntypepublic
      label: "Event Date"
      selector: /attributes/campaigntypepublic
    -
      name: cventid
      label: "Cvent ID"
      selector: /attributes/cventid
  ids:
    id:
      type: integer

process:
  type:
    -
      plugin: skip_on_value
      not_equals: true
      source: type
      method: process
      value:
        - 'GC'
    -
      plugin: single_value

  title: name

  name: name

  langcode:
    plugin: default_value
    default_value: en

  field_grid_event_id: /attributes/eventid

  field_published:
    -
      plugin: default_value
      default_value: true

  status:
    plugin: default_value
    default_value: true

  uid:
    plugin: default_value
    default_value: 2

  field_description/value: attributes/description

  field_description/format:
    -
      plugin: default_value
      default_value: full_html

  created:
    plugin: 'milken_migrate:unix_date'
    source: created
  changed:
    plugin: 'milken_migrate:unix_date'
    source: changed

  field_blurb: blurb
  field_campaign_id: campaignid
  field_campaign_name: campaignname
  field_campaign_owner: campaignowner
  field_campaign_type: campaigntype
  field_campaign_type_public: campaigntypepublic
  field_cventid: cventid
  field_name_short: nameshort
  field_speakers: speakers
  field_venu: venue

destination:
  plugin: 'entity:event'
  default_bundle: conference
migration_dependencies: {  }
